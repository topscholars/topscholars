<!--{% load staticfiles %}-->
<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8"/> 
	<!--<link rel="stylesheet" type="text/css" href="{% static 'tsweb/css/Prototype.css' %}" />-->
<!--	<link rel="stylesheet" type="text/css" href="{% static 'tsweb/css/smoothness/jquery-ui-1.10.3.custom.min.css' %}" />
	<link rel="stylesheet" type="text/css" href="{% static 'tsweb/css/smoothness/jquery-ui-1.10.3.custom-edited.css' %}" />
	<link rel="stylesheet" type="text/css" href="{% static 'tsweb/css/bootstrap.css' %}" />
	<link rel="stylesheet" type="text/css" href="{% static 'tsweb/css/topscholars.css' %}" />-->
	
	<link rel="stylesheet" href="{% static 'tsweb/css/bootstrap.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'tsweb/css/topscholars.css' %}" type="text/css" />
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="{% static 'tsweb/css/smoothness/jquery-ui-1.10.3.custom.min.css' %}" />
	<link rel="stylesheet" href="{% static 'tsweb/css/redactor.css' %}" type="text/css" />
	<link rel="stylesheet" href="{% static 'tsweb/css/jquery.comment.css' %}" type="text/css" />
	<!--<link rel="stylesheet" href="../../../static/tsweb/css/redactor-iframe.css" />-->
	<!--<script src="{% static 'tsweb/js/jQuery1.10.1.js' %}"></script>-->
	<!--<script src="{% static 'tsweb/js/jquery-ui-1.10.3.custom.min.js' %}"></script>-->
	
	<script src="{% static 'tsweb/js/jQuery1-10-1.js' %}" type="text/javascript"></script>
	<script src="{% static 'tsweb/js/jquery-ui-1.10.3.custom.min.js' %}"></script>
	<script src="{% static 'tsweb/js/bootstrap.js' %}" type="text/javascript"></script>
	<script src="{% static 'tsweb/js/transition.js' %}" type="text/javascript"></script>
	<script src="{% static 'tsweb/js/jquery.cookie.js' %}"></script>
	<script src="{% static 'tsweb/js/util.js' %}"></script>
	<script src="{% static 'tsweb/js/popover.js' %}" type="text/javascript"></script>
	<script src="{% static 'tsweb/js/tooltip.js' %}" type="text/javascript"></script>
	<script src="{% static 'tsweb/js/redactor.min.js' %}"></script>
	<script src="{% static 'tsweb/js/jquery.comment.js' %}"></script>
	<script src="{% static 'tsweb/js/jquery-touch-punch.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'tsweb/js/jquery.tagedit.js' %}"></script>
	<script src="{% static 'tsweb/js/jquery.autoGrowInput.js' %}"></script>
	<script src="{% static 'tsweb/js/jquery.validate.js' %}"></script>
	<script src="{% static 'tsweb/js/fontcolor.js' %}"></script>
  <script src="{% static 'tsweb/js/fontfamily.js' %}"></script>
  <script src="{% static 'tsweb/js/fontsize.js' %}"></script>
  
  	<link rel="stylesheet" href="../../../static/tsweb/css/bootstrap.css" type="text/css"/>
  	<link rel="stylesheet" href="../../../static/tsweb/css/topscholars.css" type="text/css"/>
  	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"/>
  	<link rel="stylesheet" href="../../../static/tsweb/css/redactor.css"/>
  	<link rel="stylesheet" href="../../../static/tsweb/css/jquery.comment.css"/>
  	
  	<!--<link rel="stylesheet" href="../../../static/tsweb/css/redactor-iframe.css" />-->
  	<!--<script src="{% static 'tsweb/js/jQuery1.10.1.js' %}"></script>-->
  	<!--<script src="{% static 'tsweb/js/jquery-ui-1.10.3.custom.min.js' %}"></script>-->
  	<script src="../../../static/tsweb/js/jQuery1-10-1.js" type="text/javascript"></script>
  	<script src="../../../static/tsweb/js/jquery-ui-1-10-3-custom-min.js" type="text/javascript"></script>
  	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  	<script src="../../../static/tsweb/js/bootstrap.js" type="text/javascript"></script>
  	<script src="../../../static/tsweb/js/transition.js" type="text/javascript"></script>
  	<script src="../../../static/tsweb/js/popover.js" type="text/javascript"></script>
  	<script src="../../../static/tsweb/js/tooltip.js" type="text/javascript"></script>
  	<script src="../../../static/tsweb/js/redactor.min.js" type="text/javascript"></script>
  	<script src="../../../static/tsweb/js/jquery.comment.js" type="text/javascript"></script>
  	<script src="../../../static/tsweb/js/jquery-touch-punch.min.js" type="text/javascript"></script>
		
</head>

<body>
<script>
    var submissionversionid;
    var editable;
    var highlightid;
    function EDITTABLE() {
        var thisClass = this;
        var evalClass = 'SUBMISSIONCREATE';
        var url = "{% url 'tsweb:tprocessajax' %}";

        this.categoryHighlightList = function (name) {
            var categoryid = 0;
            switch (name) {
                case "impact":
                    categoryid = 1;
                    break;
                case "quality":
                    categoryid = 2;
                    break;
                case "content":
                    categoryid = 3;
                    break;
                case "process":
                    categoryid = 4;
                    break;
            }
            //var textComment = '';
            $.getJSON(
                    url,
                    {
                        'class': evalClass,
                        'method': 'tagCategoryHighlightList',
                        'categoryid': categoryid,
                        'submissionversionid': submissionversionid
                    },
                    function (result) {
                        $(".essayhighlight").css({ 'background': 'red' });
                        $.each(result, function (i, val) {
                            var spanid = val[0];
                            $('inline[name="' + spanid + '"]').css({ 'background': '#ffff00' });
                            //textComment += "- " + val[1] + "<br/>";
                        });
                        //$("#commentSection").html(textComment);
                    }).error(function (xhr, status, error) {
                        alert('Error occur. Please contact the administrator.');
                    });
        }

        this.tagClickHighlightList = function (id) {
            //var textComment = '';
            $.getJSON(
                url,
                {
                    'class': evalClass,
                    'method': 'tagClickHighlightList',
                    'taglinkid': id,
                    'submissionversionid': submissionversionid
                },
                function (result) {
                    $(".essayhighlight").css({ 'background': 'red' });
                    $.each(result, function (i, val) {
                        var spanid = val[0];
                        $('inline[name="' + spanid + '"]').css({ 'background': val[2] });
                        //textComment += "- " + val[1] + "<br/>";
                    });
                    //$("#commentSection").html(textComment);
                }).error(function (xhr, status, error) {
                    alert('Error occur. Please contact the administrator.');
                });
        }

        this.tagHighlightList = function () {
            $.getJSON(
                url,
                {
                    'class': evalClass,
                    'method': 'tagHighlightList',
                    'submissionversionid': submissionversionid
                },
                function (result) {
                    $("#tagList li").remove();
                    $("#tagBox").html('');
                    $("#commentArea").val('');
                    $("<ul>").attr("id", "tagList").appendTo("#tagBox");
                    if (result.length > 0) {
                        $.each(result, function (i, val) {
                            var li = $("<li>");
                            //create link
                            $("<a>").text(val[1] + "(" + val[3] + ")").attr({ "data-id": val[0], href: "#", class: "tagClickHighlightList" }).appendTo(li);
                            //set tag size
                            if (val[2] == 0) {
                                li.children().css({ 'font-size': '1.5em', 'font-weight': 'bold' });
                            } else {
                                li.children().css({ 'font-size': '1.2em' });
                            }
                            //add to list
                            li.appendTo("#tagList");
                        });
                    } else {
                        $("#tagList").height('50');
                    }

                    $(".tagClickHighlightList").click(function () {
                        var id = $(this).data("id");
                        thisClass.tagClickHighlightList(id);
                        return false;
                    });
                }).error(function (xhr, status, error) {
                    alert('Error occur. Please contact the administrator.');
                });
        }

        this.getData = function () {
            $.getJSON(
                url,
                {
                    'class': evalClass,
                    'method': 'getSubmissionVersion',
                    'submissionversionid': submissionversionid
                },
                function (result) {
                    editable = result.status;
                    if (editable == 0) {
                        $('#redactor_content').redactor({ plugins: ['fontcolor', 'fontfamily', 'fontsize'] });
                        $('#redactor_content').redactor('set', result.essay);
                        $('#btnSave').show();
                        $('#btnSubmit').show();
                        $('#redactor_content').unbind("keypress");
                    }
                    else {
                        $('#redactor_content').redactor({ toolbar: false });
                        $('#redactor_content').redactor('set', result.essay);
                        $('#btnSave').hide();
                        $('#btnSubmit').hide();
                        $('#redactor_content').keypress(function (event) {
                            event.preventDefault();
                        });
                    }

                    thisClass.tagHighlightList();
                    //thisClass.getSubmitRubric();
                })
                .error(function (xhr, status, error) {
                    alert('Error occur. Please contact the administrator.');
                });
        }

        this.editHighlightDialog = function (edit) {
            if (edit) {
                $('#edithighlight').show();
                $('#viewhighlight').hide();
            }
            else {
                $('#edithighlight').hide();
                $('#viewhighlight').show();
            }
        }

        this.showHighlightDialog = function (show) {
            if (show) {
                $('#diveditbg').show();
                $('#divedithighlight').show();
                thisClass.editHighlightDialog(false);
            }
            else {
                $('#diveditbg').hide();
                $('#divedithighlight').hide();
                highlightid = '';
                $('#ele_highlightTagDisplay').text('');
                $('#ele_highlightComment').val('');
                $('#ele_highlightCategory').text('');
            }
        }

        this.getHighlightDataTag = function () {
            var tagids = [];
            $.getJSON(
                url,
                {
                    'class': evalClass,
                    'method': 'getSubmissionVersionHighlightTags',
                    'highlightid': highlightid
                },
                function (result) {
                    var displaytxt = '';
                    for (var i = 0; i < result.length; i++) {
                        if (displaytxt != '')
                            displaytxt = displaytxt + ', '
                        displaytxt = displaytxt + result[i].name;
                    }
                    $('#ele_highlightTagDisplay').text(displaytxt);
                })
            .error(function (xhr, status, error) {
                alert('Error occur. Please contact the administrator.');
            });
        }

        this.getHighlightData = function () {
            $.getJSON(
                url,
                {
                    'class': evalClass,
                    'method': 'getSubmissionVersionHighlight',
                    'highlightid': highlightid
                },
                function (result) {
                    $.each(result, function (ini, val) {
                        if ($('#ele_' + ini).is("span") || $('#ele_' + ini).is("div"))
                            $('#ele_' + ini).html(val);
                        else if ($('#ele_' + ini).is("label")) {
                            $('#ele_' + ini).text(val);
                        }
                        else
                            $('#ele_' + ini).val(val);
                    });

                    thisClass.getHighlightDataTag();
                    thisClass.showHighlightDialog(true);
                })
            .error(function (xhr, status, error) {
                alert('Error occur. Please contact the administrator.');
            });
        }

        this.del = function () {
            var redactor_object = $('#redactor_content').redactor('getObject');
            $('inline[name="' + highlightid + '"]').each(function () {
                redactor_object.selectionElement(this);
                redactor_object.inlineRemoveAttr('name');
                redactor_object.inlineRemoveAttr('ondblclick');
                redactor_object.inlineRemoveClass('essayhighlight');
                redactor_object.inlineRemoveStyle('background-color');
                redactor_object.inlineRemoveAttr('ondblclick');
                redactor_object.sync();
            });
            
            $.post(url,
                    {
                        'class': evalClass,
                        'method': 'delete',
                        'submissionversionid': submissionversionid,
                        'highlightid': highlightid,
                        'essay': $('#redactor_content').redactor('getEditor').html()
                    },
                    function (result) {
                        thisClass.showHighlightDialog(false);
                        thisClass.tagHighlightList();
                        //thisClass.getSubmitRubric();
                    })
            .error(function (xhr, status, error) {
                alert('Error occur. Please contact the administrator.');
            });
            
        }

        this.initContent = function () {
            submissionversionid = '{{ submissionversion.id }}';
            
            $('#btnRevise').hide();
            $('#btnremovehighlight').click(function () {
                thisClass.editHighlightDialog(true);
            });
            $('#btncloseedithighlight').click(function () {
                thisClass.showHighlightDialog(false);
            });
            $('#btnconfirmhighlight').click(function () {
                thisClass.del();
            });
            $('#btncancelhighlight').click(function () {
                thisClass.editHighlightDialog(false);
            });
            $('#btnSubmit').click(function () {
                var essay = $('#redactor_content').redactor('getEditor').html();
                //console.log(essay);
                var i = 0;
            	$(".essayhighlight").each(function(ini, val){

     				if($(this).attr('name') == undefined){
						if($(this)[0].getNamedItem == undefined){
							
							if($(this)[0].children !== undefined){
								if($(this)[0].children[0] !== undefined){
									if($(this)[0].children[0].getAttribute("name") !== undefined){
										i++;
									}else{
	 									if($(this)[0].children[0].children !== undefined){
	 										if($(this)[0].children[0].children[0].getAttribute("name") !== undefined){
	 											i++;
	 										}
	 									}
	 								}
								}
							}
						}else{
							i++;
						}
     				}else{
     					i++;
     				}
                });
                if(i == 0){
	                odata = {
	                    'class': evalClass,
	                    'method': 'submit',
	                    'submissionversionid': submissionversionid,
	                    'essay': essay
	                };
	
	                $.post(url, odata,
	                    function (result) {
	                        window.location = "{% url 'tsweb:sindex' %}";
	                    })
	                .error(function (xhr, status, error) {
	                    alert('Error occur. Please contact the administrator.');
	                });
                }else{
                	alert('Tag not all remove');
                }
                
                
            });
            $('#btnSave').click(function () {
                var essay = $('#redactor_content').redactor('getEditor').html();
                odata = {
                    'class': evalClass,
                    'method': 'save',
                    'submissionversionid': submissionversionid,
                    'essay': essay
                };

                $.post(url, odata,
                    function (result) {
                        window.location = "{% url 'tsweb:sindex' %}";
                    })
                .error(function (xhr, status, error) {
                    alert('Error occur. Please contact the administrator.');
                });
            });
            $('#ele_submissionversionversion').change(function () {
                if ($('#ele_submissionversionversion').val() != '') {
                    submissionversionid = $('#ele_submissionversionversion').val();
                    thisClass.getData();
                }
            });
            $('.rubric-impact').click(function () {
                thisClass.categoryHighlightList("impact");
            });
            $('.rubric-quality').click(function () {
                thisClass.categoryHighlightList("quality");
            });
            $('.rubric-content').click(function () {
                thisClass.categoryHighlightList("content");
            });
            $('.rubric-process').click(function () {
                thisClass.categoryHighlightList("process");
            });

            thisClass.showHighlightDialog(false);
            thisClass.getData();
        }
    }

    $(function () {
        var gen = new EDITTABLE();
        gen.initContent();
    });
    function openHighlightDialog(id) {
        var gen = new EDITTABLE();
        highlightid = id;
        gen.getHighlightData();
    }
</script>
	
{% include "tsweb/student/include/navbar.html" %}
	
	<div class="nav-border" style="display: none;"></div>
	<button id="hide-nav" type="button" class="btn btn-small pull-right"><i class="fa fa-arrow-up"></i></button>
	
	<div class="page-container">
		
		<div class="assignment-edit-section">
			 <div class="block-cell block-wide">
			 
				 <div class="section-title" style="display: inline-block;">
				 	<h4><i class="fa fa-file-o"></i> {{ assignment.name }} - {{ assignment.goaloftask }}</h4>
				 </div>
					
				<!-- submit block -->
				<div id="diveditbg" style="background-color:gray;z-index:1;width:100%;height:100%;position:absolute;opacity:0.4;"></div>
				<div id="submitpopup" style="z-index:2;width:500px;position:absolute;background-color:white;margin-top:10%;margin-left:35%;padding:10px;display:none;">
				<table style="width:100%;">
					<tr>
						<td>Stage :</td>
						<td><select id="submit_stage"></select></td>	
					</tr>
					<tr>
						<td>Comment :</td>
						<td>
							<textarea id="submit_comment"></textarea>
						</td>
					</tr>
					<tr>
						<td>Progress :</td>
						<td><input type="text" id="submit_progress"></td>
					</tr>
					<tr id="editSubmit">
						<td colspan="2" style="text-align:center;">
							<input id="btnsavesubmit" type="button" class="button btn-small" style="width:80px;height:26px;" value="Save">&nbsp;
							<input id="btncancelsubmit" type="button" class="button btn-small" style="width:80px;height:26px;" value="Cancel">
						</td>
					</tr>
				</table>
				</div>
				<!-- end submit block -->
				<div class="searchlist form form-horizontal">
						
						<button type="button" class="btn btn-small hide-panel" id="hide-panel"><i class="fa fa-arrow-right"></i></button>
						<input type="button" class="button btn btn-default btn-small editor-btn" value="Save" id="btnSave">
						<input type="button" class="button btn btn-default btn-small editor-btn" value="Revise" id="btnRevise"/>
						<input type="submit" class="btn btn-info btn-lg btn-small editor-btn" id="btnSubmit"  value="Send Teacher" />
						<a href="{% url 'tsweb:sindex' %}" class="btn btn-warning btn-small editor-btn">Exit</a>	
						
					<div class="col-sm-2 pull-right" style="z-index: 3;">
						<div class="form-group">
						
							<select id="ele_submissionversionversion" class="form-control input-small">
                                <option value="">Please Select</option>
							{% for row in submissionversionlist %}
								<option value="{{ row.id }}">Revision {{ row.version }}</option>
							{% endfor %}
							</select>
						</div>
					</div>
				</div>
				<div style="position: absolute; top: 50px; width: 100%;">
                    <br /><br />
			 		<div id="redactor_content" name="content" style="width: 100%; height: auto;"></div>
			 		<!--ADD TAGGING BUTTON OR HIGHLIGHT STATE-->
		 		</div>
			 </div>
			
		</div>
		
		<div class="tag-list-dropdown col-lg-2" style="display: none;">
			<form class="form" role="form">
		    <div class="input-group input-group-sm">
		      <input type="text" class="form-control">
		      <span class="input-group-btn">
		        <input class="btn btn-info" type="submit" value="Add Tag"/>
		      </span>
		    </div><!-- /input-group -->
				
				<ul id="taglist">
					<li><a href="#">{# tag #}</a></li>
				</ul>
				
				<!--<input type="submit" name="add-tab" value="Add Tag" class="btn btn-primary btn-small pull-right" />-->
			</form>
		</div>

		<div class="panel-group side-panel panel-revision" id="side-panel">
		
			<div class="panel-default block-cell block-thin block-expanded">
				<div class="panel-heading block-header">
					<h3 class="panel-title">
						<a href="#collapseFour" data-toggle="collapse">
							Rubric
						</a>
					</h3>
				</div>
				<div id="collapseFour" class="panel-collapse collapse in">
					<div class="block-body" style="height: 280px;">
						<!--<div>{# rubric #}</div>-->
						
						<div class="rubric-categories-sm">
							<div class="rubric-impact circle circle-blue">
								<p>Impact</p>
								<div class="weight-percent circle-val" id="impact_percent">{#val#} %</div>
							</div>
							
							<div class="rubric-quality circle circle-green">
								<p>Quality</p>
								<div class="weight-percent circle-val" id="quality_percent">{#val#} %</div>
							</div>
							
							<div class="rubric-objective circle circle-grey">
								<div>Objective</div>
							</div>
							
							<div class="rubric-content circle circle-purple">
								<p>Content</p>
								<div class="weight-percent circle-val" id="content_percent">{#val#} %</div>
							</div>
							
							<div class="rubric-process circle circle-red">
								<p>Process</p>
								<div class="weight-percent circle-val" id="process_percent">{#val#} %</div>
							</div>
						</div>
						
						<!--<div class="progress progress-striped active lesson-progress">
						  <div class="progress-bar"  role="progressbar" aria-valuenow="50" aria-valuemin="10" aria-valuemax="100" style="width: 100%">
						    <span class="sr-only">100% Complete</span>
						  </div>
						</div>-->
						<button id="show_rubric_btn" class="btn btn-small btn-default pull-right hide" style="margin-bottom: -30px; font-size: .8em;">Show Rubric</button>
						<div class="impact-list hide">
							<legend>Impact Criteria</legend>
							<ul class="list-unstyled impact-list-item">
								<li>{{ criteria.name }}</li>
								<li>{{ criteria.tag }}</li>
								<li><input type="text" class="form-control input-small" value="{{ criteria.weight }}"/></li>
							</ul>
							<hr/>
						</div>
						<div class="quality-list hide">
							<legend>Quality Criteria</legend>
							<ul class="list-unstyled quality-list-item">
								<li>{{ criteria.name }}</li>
								<li>{{ criteria.tag }}</li>
								<li><input type="text" class="form-control input-small" value="{{ criteria.weight }}"/></li>
							</ul>
							<hr/>
						</div>
						<div class="content-list hide">
							<legend>Content Criteria</legend>
							<ul class="list-unstyled content-list-item">
								<li>{{ criteria.name }}</li>
								<li>{{ criteria.tag }}</li>
								<li><input type="text" class="form-control input-small" value="{{ criteria.weight }}"/></li>
							</ul>
							<hr/>
						</div>
						<div class="process-list hide">
							<legend>Process Criteria</legend>
							<ul class="list-unstyled process-list-item">
								<li>{{ criteria.name }}</li>
								<li>{{ criteria.tag }}</li>
								<li><input type="text" class="form-control input-small" value="{{ criteria.weight }}"/></li>
							</ul>
							<hr/>
						</div>
						<div class="objective-list hide">
							<legend>Objective</legend>
							<ul class="list-unstyled objective-list-item">
								<li>
								<h5>{{ assignment.name }}</h5>
								<p>
									<b>Goal of task:</b> {{ assignment.goaloftask }}
								</p>
								<p class="text-scroll">
									<b>Description:</b> {{ assignment.description }}
								</p>
								<p>
									<b>Audience:</b> {{ assignment.audience }}
								</p>
								<p>
									<b>Length:</b> {{ assignment.minwords }} - {{ assignment.maxwords }}
								</p>
								<p>
									<b>Revisions:</b> {{ assignment.revisions }}
								</p>
								<!--
								<p>
									<b>Max Points:</b> out of 100
								</p>
								-->
								<!--
								<p>
									<b>Category:</b> {# assignment_category #}
								</p>
								-->
								<p>
									<b>Grading Criteria:</b> {{ assignment.rubricid.name }}
								</p>
								<p>
									<b>Due Date:</b> {{ assignment.duedate }}
								</p>
								</li>
							</ul>
							<hr/>
						</div>
						
					</div>
				</div>
			</div>
			
				  
		  <div class="panel-default block-cell block-thin">
		  	
		    <div class="panel-heading block-header">
		      <h3 class="panel-title">
		        <a href="#collapseTwo" data-toggle="collapse">
		          Tagging
		        </a>
		      </h3>
		    </div>
		    <div id="collapseTwo" class="panel-collapse collapse in">
		      <div class="block-body">
		        <ul class="block-list" id="tagBox">
		        	<li class="tag">
			        	<a href="#" id="tag-details" rel="popover"
			        		data-placement="left"
			        		data-container="body"
			        		data-toggle="popover" title
			        		data-trigger="hover"
			        		data-content="{# tag-details #} this is some more info about this tag.  Of course it will be loaded dynamically.."
			        		role="button">{# tag-name #}
		        		</a>
	        		</li>
		        </ul>
		      </div>
		    </div>
		  </div>
	
		  <div class="panel-default block-cell block-thin" >
		  	<div class="panel-heading block-header">
		  		<h3 class="panel-title">
		  		<a href="#collapseThree" data-toggle="collapse"> Comments </a>
		  		</h3>
		  	</div>
		  	<div id="collapseThree" class="panel-collapse collapse in">
		  		<div class="block-body">
		  			<div id="commentSection">
	  					<ul class="comment-list">
	  						<!--compass is for location based comment-->
	  						<li><i class="fa fa-compass" data-toggle="tooltip" data-trigger="hover" data-placement="left" rel="tooltip" title data-original-title="Location based" data-container="body"></i> <i>{# student_name #} - </i> 
	  						{# past_comment #} Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam <time class="commentDate"></time>
	  						</li>
	  						<!--file is for document based comment-->
	  						<li><i class="fa fa-file" data-toggle="tooltip" data-trigger="hover" data-placement="left" rel="tooltip" title data-original-title="Document based" data-container="body"></i> <i>{# student_name #} - </i>
	  						{# past_comment #} <time class="commentDate"></time>
	  						</li>
	  					</ul>
		  			</div>
		  		</div>
		  	</div>
		  </div>
		  
		  
			  
		</div> <!--End Side Panel-->

	</div> <!--End Page Container-->
		
<div id="divedithighlight"  class="tag-list-dropdown" style="z-index:2;width:500px;position:absolute;margin-top:10%;margin-left:35%;padding:10px;color: white;">
	<table style="width:100%;">
        <tr>
            <td>Category:</td>
            <td>
				<label id="ele_highlightCategory"></label>
			</td>
        </tr>
		<tr>
			<td>Tag:</td>
			<td>
				<label id="ele_highlightTagDisplay"></label>
			</td>
		</tr>
		<tr>
			<td style="vertical-align:top;">Comment:</td>
			<td><textarea id="ele_highlightComment" style="width:420px;height:100px;resize:none;" disabled></textarea></td>
		</tr>
		<tr id="viewhighlight">
			<td colspan="2" style="text-align:center;">
				<input id="btnremovehighlight" type="button" class="btn btn-danger btn-small" style="width:80px;" value="Remove">&nbsp;
				<input id="btncloseedithighlight" type="button" class="btn btn-warning btn-small" style="width:80px;" value="Close">
			</td>
		</tr>
		<tr id="edithighlight">
			<td colspan="2" style="text-align:center;">
				<input id="btnconfirmhighlight" type="button" class="btn btn-info btn-small" style="width:80px;" value="Confirm">&nbsp;
				<input id="btncancelhighlight" type="button" class="btn btn-warning btn-small" style="width:80px;" value="Cancel">
			</td>
		</tr>
	</table>
</div>
	
	<!--<button class="btn lesson-btn">Lessons <i class="fa fa-arrow-up"></i></button>-->
	
	<div class="lesson" id="lessonLarge" style="display: none;">

		<div class="lesson-body">
			<div class="lesson-section">
				<div class="lesson-section-header">Lesson
				<button type="button" class="close" aria-hidden="true">&times;</button>
				</div>
				
				<div class="lesson-section-body">
					<div class="lesson-media pull-left">
						<h2 class="text-center">Lesson Media</h2>
						<iframe width="320" height="240" src="//www.youtube.com/embed/utUPth77L_o" frameborder="0" allowfullscreen></iframe>
					</div>
					
					<div class="lesson-text pull-left">
						<h2 class="text-center">Lesson Text</h2>
						<p id="lessonText">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum
						</p>
					</div>
					
					<div class="lesson-quiz pull-left">
						<h2 class="text-center">Lesson Quiz</h2>
						<form class="form" role="form">
							<div class="form-group">
								<label for="question1">This is a sample question in a static lesson view...</label>
								<input type="text" name="question1" value="" id="question1" class="form-control" placeholder="Answer here" />
							</div>
							
							<input type="submit" name="quizSubmit" value="Submit" id="quizSubit" class="btn btn-success pull-right" />
						</form>
					</div>
				</div> <!-- /. lesson-section-body -->
			</div>  <!-- /. lesson-section -->
		</div> <!-- /. lesson-body -->
		
	</div> <!-- /. lesson large -->
	
	
	<div class="lesson" id="lessonSmall" style="display: none;">
	
		<div class="lesson-body">
			<div class="lesson-section">
				<div class="lesson-section-header lesson-header-small">{# lesson_name #}
					<button type="button" class="close" aria-hidden="true">&times;</button>
				</div>
				<div class="lesson-section-body">
					<form class="form form-horizontal" role="form">
						<div class="section-wide">
							<p id="ele_example">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
							
							<p id="ele_question" style="display: none;">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam?</p>
							
							<p id="ele_answer" style="display: none;">Lorem ipsum dolor sit amet, consectetur adipisicing elit</p>
								<div class="form-group">
								<label for="answerSubmit" class="col-sm-2 control-label">Answer Here</label>
								<div class="col-sm-10">
									<input type="text" name="answerSubmit" id="answerSubmit" class="form-control" />
								</div>
							</div>
							<hr />
							<div class="text-center">
								<button class="btn btn-default" role="button" id="backBtn"><i class="fa fa-angle-left"></i> Back</button>
								<button class="btn btn-default" role="button" id="nextBtn">Next <i class="fa fa-angle-right"></i></button>
								<button class="btn btn-danger" role="button" id="resetQuestion">Reset Question</button>
								<button class="btn btn-primary" type="submit" role="button">Submit Answer</button>
							</div>

						</div>
					</form>
				</div>
			</div>
		</div>
		
	</div> <!-- /. lesson small -->
	
	
	<div class="lesson" id="autoLesson" style="display: none; background-color: white;">
		
			<div class="lesson-body">
				<div class="lesson-section">
					<div class="lesson-section-header lesson-header-small">{# activity_name #}
						<button type="button" class="close" aria-hidden="true">&times;</button>
					</div>
					<div class="progress" style="border-radius: 0px;">
					  <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%; border-radius">
					    <span class="sr-only">60% Complete</span>
					  </div>
					</div>
					<div class="lesson-section-body">
						<form class="form form-inline" role="form">
							<div class="section-one" style="width: 50%; background-color: white;">
							
								<div class="activity-content">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum
								</div>
								
							</div><!-- /.section-one -->
							

							
							<div class="section-two text-center" style="width: 50%;">
								<div class="preview_section">
								
									<div class="question-answer">
										<p>This is a question that the teacher will put in their activity creation popup?</p>
										<div class="form-group">
											<textarea class="form-control" placeholder="Your answer here"></textarea>
										</div>
									</div>
									
									<div class="form-group">
										<button class="btn btn-default" role="button"><i class="fa fa-angle-left"></i> Back</button>
										<button class="btn btn-default" role="button">Next <i class="fa fa-angle-right"></i></button>
										<button class="btn btn-primary" type="submit" role="button" id="saveActivityBtn">Save</button>
									</div>
								</div>
								
								<!--<button class="btn btn-info" role="button">Record Answer</button>-->
							</div>
							
						</form>
					</div>
				</div>
			</div>
			
		</div> <!-- /. ACTIVITY AUTO -->

	<div class="lesson" id="manualLesson" style="display: ; background-color: white;">
			
				<div class="lesson-body">
					<div class="lesson-section">
						<div class="lesson-section-header lesson-header-small">{# activity_name #}
							<button type="button" class="close" aria-hidden="true">&times;</button>
						</div>
						<div class="progress" style="border-radius: 0px;">
						  <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%; border-radius">
						    <span class="sr-only">60% Complete</span>
						  </div>
						</div>
						<div class="lesson-section-body">
							<form class="form form-inline" role="form">
								<div class="section-one" style="width: 30%; background-color: white;">
								
									<div class="activity-content">
										
										
										<!--RUBRIC-->
										<div class="rubric-categories-sm" style="display: none;">
											<div class="rubric-impact circle circle-blue">
												<p>Impact</p>
												<div class="weight-percent circle-val" id="impact_percent">{#val#} %</div>
											</div>
											
											<div class="rubric-quality circle circle-green">
												<p>Quality</p>
												<div class="weight-percent circle-val" id="quality_percent">{#val#} %</div>
											</div>
											
											<div class="rubric-objective circle circle-grey">
												<div>Objective</div>
											</div>
											
											<div class="rubric-content circle circle-purple">
												<p>Content</p>
												<div class="weight-percent circle-val" id="content_percent">{#val#} %</div>
											</div>
											
											<div class="rubric-process circle circle-red">
												<p>Process</p>
												<div class="weight-percent circle-val" id="process_percent">{#val#} %</div>
											</div>
										</div>
										
										<!--COMMENT-->
										<div class="activity-comment" style="display: none;">
											<h4>Comment</h4>
											<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
										</div>
										
										<!--TAGGING-->
										<ul class="block-list" id="tagBox">
											<li class="tag">
										  	<a href="#" id="tag-details" rel="popover"
										  		data-placement="auto"
										  		data-container="body"
										  		data-toggle="popover" title
										  		data-trigger="hover"
										  		data-content="{# tag-details #} this is some more info about this tag.  Of course it will be loaded dynamically.."
										  		role="button">{# tag-name #}
												</a>
											</li>
										</ul>
										
										<!--RESPOND-->
										
										
										
									</div>
									
								</div><!-- /.section-one -->
								
	
								
								<div class="section-two text-center" style="width: 70%;">
									<div class="preview_section">
									
										<div class="question-answer">
											<p>This is a question that the teacher will put in their activity creation popup?</p>
											<div class="form-group">
												<textarea class="form-control" placeholder="Your answer here"></textarea>
											</div>
										</div>
										
										<div class="form-group">
											<button class="btn btn-default" role="button"><i class="fa fa-angle-left"></i> Back</button>
											<button class="btn btn-default" role="button">Next <i class="fa fa-angle-right"></i></button>
											<button class="btn btn-primary" type="submit" role="button" id="saveActivityBtn">Save</button>
										</div>
									</div>
									
									<!--<button class="btn btn-info" role="button">Record Answer</button>-->
								</div>
								
							</form>
						</div>
					</div>
				</div>
				
			</div> <!-- /. ACTIVITY MANUAL -->
		
	
<!--			<!--impact criteria--*>
			  <label for="grade1">Grade:</label>
		  	<input type="text" id="grade1" style="border:0; color:#f6931f; font-weight:normal;">


			<!--content criteria--*>
			  <label for="grade2">Grade:</label>
			  <input type="text" id="grade2" style="border:0; color:#f6931f; font-weight:normal;">

			<!--quality criteria--*>
			  <label for="grade3">Grade:</label>
			  <input type="text" id="grade3" style="border:0; color:#f6931f; font-weight:normal;">


			<!--process criteria--*>
			  <label for="grade4">Grade:</label>
			  <input type="text" id="grade4" style="border:0; color:#f6931f; font-weight:normal;">
											
			<!--objective--*>
				<h5>{# assignment_name #}</h5>
				<p class="text-scroll"><b>Description:</b> {# assignment_description #}</p>
				<p><b>Max Points:</b> out of 100</p>
				<p><b>Category:</b> {# assignment_category #}</p>
				<p><b>Grading Criteria:</b> {# rubric_name #}</p>
				<p><b>Due Date:</b> {# due_date #}</p>			-->
	
	<script>
		$('.rubric-impact').click(function () {
		    $('.rubric-categories-sm').addClass('hide');
		    $('.impact-list').removeClass('hide');
		    $('#show_rubric_btn').removeClass('hide');
		});
		$('.rubric-quality').click(function () {
		    $('.rubric-categories-sm').addClass('hide');
		    $('.quality-list').removeClass('hide');
		    $('#show_rubric_btn').removeClass('hide');
		});
		$('.rubric-content').click(function () {
		    $('.rubric-categories-sm').addClass('hide');
		    $('.content-list').removeClass('hide');
		    $('#show_rubric_btn').removeClass('hide');
		});
		$('.rubric-process').click(function () {
		    $('.rubric-categories-sm').addClass('hide');
		    $('.process-list').removeClass('hide');
		    $('#show_rubric_btn').removeClass('hide');
		});
		$('.rubric-objective').click(function () {
		    $('.rubric-categories-sm').addClass('hide');
		    $('.objective-list').removeClass('hide');
		    $('#show_rubric_btn').removeClass('hide');
		});
		$('#show_rubric_btn').click(function () {
		    $(this).addClass('hide');
		    $('.rubric-categories-sm').removeClass('hide');
		    $('.impact-list').addClass('hide');
		    $('.quality-list').addClass('hide');
		    $('.content-list').addClass('hide');
		    $('.process-list').addClass('hide');
		    $('.objective-list').addClass('hide');
		});

		
		$('#hide-panel').click(function () {
			$('.side-panel').toggle('slideRight','easeOutExpo',300);	
		});
		
		$('.nav-border').css('display', 'block');
		$('#hide-nav').click(function () {
			$('.navbar').toggle();
			$('.nav-border').css('display', 'block');
		});
		
		$('#hide-nav').click(function (e) {
			if ($('#hide-nav i').hasClass('fa-arrow-up')) {
				$('#hide-nav i').removeClass('fa-arrow-up').addClass('fa-arrow-down');
				$('.block-wide').css('margin-top', '10px').css('height', '100%');
				$('.side-panel').css('margin-top', '-60px');
				$('.hide-panel').css('margin-top', '-60px');
			} else {
				$('#hide-nav i').removeClass('fa-arrow-down').addClass('fa-arrow-up');
				$('.block-wide').css('margin-top', '70px').css('height', '550px');
				$('.side-panel').css('margin-top', '0px');
				$('.hide-panel').css('margin-top', '0px');
			}
		});
		
		$('.hide-panel').click(function (e) {
			if ($('.hide-panel i').hasClass('fa-arrow-right')) {
				$('.hide-panel i').removeClass('fa-arrow-right').addClass('fa-arrow-left');
				$('.block-wide').css('width', '100%');
			} else {
				$('.hide-panel i').removeClass('fa-arrow-left').addClass('fa-arrow-right');
				$('.block-wide').css('width', '75%');
			}
		});
		
		
		
		
		$('.lesson-btn').click(function arrowToggle() {
			openStaticLesson();

			if ($('.lesson-btn i').hasClass('fa-arrow-up')) {
				$('.lesson-btn i').removeClass('fa-arrow-up').addClass('fa-arrow-down');
			} else {
				$('.lesson-btn i').removeClass('fa-arrow-down').addClass('fa-arrow-up');
			}
		});
		$('#lessonLarge .close').click(function () {
			openStaticLesson();
			if ($('.lesson-btn i').hasClass('fa-arrow-up')) {
				$('.lesson-btn i').removeClass('fa-arrow-up').addClass('fa-arrow-down');
			} else {
				$('.lesson-btn i').removeClass('fa-arrow-down').addClass('fa-arrow-up');
			}
		});
		
		$('#tag-details').click(function () {
			openDynamicLesson();
		});
		$('#lessonSmall .close').click(function () {
			openDynamicLesson();
		});
		
		//Open lessons
		function openStaticLesson() {
			$('#lessonLarge').toggle(1000, 'easeOutElastic');
			$('#lessonLarge').css('display', 'block');
		}
		function openDynamicLesson() {
			$('#lessonSmall').toggle(1000, 'easeOutElastic');
			$('#lessonSmall').css('display', 'block');
		}
		
		$(function() {
		    $( "#grade-slider1" ).slider({
		      range: "max",
		      min: 0,
		      max: 100,
		      value: 0,
		      slide: function( event, ui ) {
		        $( "#grade1" ).val( ui.value );
		      }
		    });
		    $( "#grade1" ).val( $( "#grade-slider1" ).slider( "value" ) );
		  });
		  
		$(function() {
		    $( "#grade-slider2" ).slider({
		      range: "max",
		      min: 0,
		      max: 100,
		      value: 0,
		      slide: function( event, ui ) {
		        $( "#grade2" ).val( ui.value );
		      }
		    });
		    $( "#grade2" ).val( $( "#grade-slider2" ).slider( "value" ) );
		  });
		
		$(function() {
		    $( "#grade-slider3" ).slider({
		      range: "max",
		      min: 0,
		      max: 100,
		      value: 0,
		      slide: function( event, ui ) {
		        $( "#grade3" ).val( ui.value );
		      }
		    });
		    $( "#grade3" ).val( $( "#grade-slider3" ).slider( "value" ) );
		  });
		  
		$(function() {
		    $( "#grade-slider4" ).slider({
		      range: "max",
		      min: 0,
		      max: 100,
		      value: 0,
		      slide: function( event, ui ) {
		        $( "#grade4" ).val( ui.value );
		      }
		    });
		    $( "#grade4" ).val( $( "#grade-slider4" ).slider( "value" ) );
		  });
		
		$("[rel=popover]").popover();
		$("[rel=tooltip]").tooltip();
	
	</script>
</body>
</html>